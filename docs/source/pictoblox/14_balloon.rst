.. note::

    こんにちは、SunFounderのRaspberry Pi & Arduino & ESP32愛好家コミュニティへようこそ！Facebook上でRaspberry Pi、Arduino、ESP32についてもっと深く掘り下げ、他の愛好家と交流しましょう。

    **参加する理由は？**

    - **エキスパートサポート**：コミュニティやチームの助けを借りて、販売後の問題や技術的な課題を解決します。
    - **学び＆共有**：ヒントやチュートリアルを交換してスキルを向上させましょう。
    - **独占的なプレビュー**：新製品の発表や先行プレビューに早期アクセスしましょう。
    - **特別割引**：最新製品の独占割引をお楽しみください。
    - **祭りのプロモーションとギフト**：ギフトや祝日のプロモーションに参加しましょう。

    👉 私たちと一緒に探索し、創造する準備はできていますか？[|link_sf_facebook|]をクリックして今すぐ参加しましょう！

.. _sh_balloon:

2.14 ゲーム - 風船を膨らます
=========================================

ここでは、風船を膨らませるゲームをします。

緑のフラグをクリックすると、風船がどんどん大きくなります。風船が大きすぎると爆発します。逆に、小さすぎると落ちてしまいます。いつボタンを押して上に飛ばすかの判断が求められます。

.. image:: img/13_balloon0.png

学べること
---------------------

- スプライトのコスチュームをペイントする

必要な部品
---------------------

このプロジェクトに必要なコンポーネントは以下の通りです。

一式を購入すると便利です。リンクはこちら：

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - 名前	
        - このキットのアイテム
        - リンク
    *   - 3 in 1 Starter Kit
        - 380+
        - |link_3IN1_kit|

以下のリンクから個別に購入することもできます。

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - コンポーネントの紹介
        - 購入リンク

    *   - :ref:`cpn_uno`
        - |link_Uno_R3_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_capacitor`
        - |link_capacitor_buy|
    *   - :ref:`cpn_button`
        - |link_button_buy|

回路の作成
-----------------------

ボタンは4ピンのデバイスです。ピン1はピン2に、ピン3はピン4に接続されています。ボタンが押されると、4つのピンが接続され、回路が閉じます。

.. image:: img/5_buttonc.png

以下の図に従って回路を組み立ててください。

* ボタンの左側のピンの1つを、プルダウン抵抗および0.1uF（104）キャパシタ（ボタンの動作時にジッタを除去し、安定したレベルを出力するため）に接続されているピン12に接続します。
* 抵抗とキャパシタの他端をGNDに、ボタンの右側のピンの1つを5Vに接続します。

.. image:: img/circuit/button_circuit.png

プログラミング
------------------

**1. スプライトと背景の追加**

デフォルトのスプライトを削除し、スプライトエリアの右下の **Choose a Sprite** ボタンをクリックして、 **Balloon1** スプライトを選択します。

.. image:: img/13_balloon1.png

**Choose a backdrop** ボタンを使って **Boardwalk** の背景を追加します。または、好きな背景を選んでください。

.. image:: img/13_balloon2.png

**2. Balloon1スプライトのコスチュームを描画**

風船スプライトの爆発エフェクトのコスチュームを描画しましょう。

**Balloon1** スプライトの **Costumes** ページに移動し、左下の **Choose a Costume** ボタンをクリックし、 **Paint** を選択して、空の **Costumes** 画面を開きます。

.. image:: img/13_balloon7.png

色を選んで **Brush** ツールを使って模様を描きます。

.. image:: img/13_balloon3.png

再度色を選択し、塗りつぶしツールをクリックし、マウスを模様の内部に移動して色を塗りつぶします。

.. image:: img/13_balloon4.png

最後に、BOOMというテキストを書いて、爆発エフェクトのコスチュームが完成します。

.. image:: img/13_balloon5.png

**3. Balloonスプライトのスクリプティング**

**Balloon1** スプライトの初期位置とサイズを設定します。

.. image:: img/13_balloon6.png

次に、**Balloon** スプライトをゆっくりと大きくします。

.. image:: img/13_balloon8.png

ボタンが押されたとき（値が1の場合）、 **Balloon1** スプライトのサイズの増大が停止します。

* サイズが90未満の場合、落ちる（y座標が減少）。
* サイズが90より大きく、120より小さい場合、空に飛ぶ（y座標が増加）。

.. image:: img/13_balloon9.png

ボタンが押されていない場合、風船はゆっくりと大きくなり、サイズが120より大きくなると、爆発します（爆発エフェクトのコスチュームに切り替えます）。

.. image:: img/13_balloon10.png

