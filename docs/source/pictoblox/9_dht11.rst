.. _sh_humiture:

2.9 Leer Temperatura y Humedad
==================================

Los proyectos anteriores han estado utilizando el modo de escenario, pero algunas funciones solo están disponibles en el modo de carga, como la función de comunicación serial. 
En este proyecto, imprimiremos la temperatura y la humedad del DHT11 usando el Monitor Serial en :ref:`upload_mode`.

.. image:: img/11_serial.png

Aprenderás
---------------------

- Obtener la temperatura y la humedad del módulo DHT11
- Monitor Serial para :ref:`upload_mode`
- Añadir extensión

Componentes Necesarios
-------------------------

En este proyecto, necesitamos los siguientes componentes.

Es definitivamente conveniente comprar un kit completo, aquí está el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - 3 in 1 Starter Kit
        - 380+
        - |link_3IN1_kit|

También puedes comprarlos por separado en los enlaces a continuación.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIÓN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_uno`
        - |link_Uno_R3_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_dht11` 
        - \-

Construir el Circuito
-----------------------

El sensor digital de temperatura y humedad DHT11 es un sensor compuesto que contiene una salida de señal digital calibrada de temperatura y humedad.

Ahora construye el circuito según el siguiente diagrama.

.. image:: img/circuit/dht11_circuit.png

Programación
------------------

**1. Añadir Extensiones**

Cambia al modo **Upload**, haz clic en el botón **Add Extension** en la esquina inferior izquierda, luego selecciona **Communication** para añadirlo, y aparecerá al final del área de paleta.

.. image:: img/11_addcom.png

**2. Inicializando el Arduino Uno y el Monitor Serial**

En el modo **Upload**, inicia Arduino Uno y luego configura el baud rate del puerto serial.

* [when Arduino Starts up]: En el modo **Upload**, inicia Arduino Uno.
* [set serial baud rate to]: De la paleta **Communications**, se utiliza para configurar el baud rate del puerto serial 0, por defecto es 115200. Si estás usando Mega2560, entonces puedes elegir configurar el baud rate en el puerto serial 0~3.

.. image:: img/11_init.png

**3. Leer temperatura y humedad**

Crea 2 variables **tem** y **humi** para almacenar la temperatura y la humedad respectivamente, el código aparecerá en el lado derecho mientras arrastras y sueltas el bloque.

.. image:: img/11_readtem.png

**4. Imprimirlos en el Monitor Serial**

Escribe la temperatura y humedad leídas en el Monitor Serial. Para evitar transferir demasiado rápido y causar bloqueos en PictoBlox, utiliza el bloque [wait seconds], para añadir algún intervalo de tiempo para la próxima impresión.

.. image:: img/11_writeserial.png

**5. Subiendo código**

A diferencia del modo **Stage**, el código en el modo **Upload** necesita ser subido a la placa Arduino usando el botón **Upload Code** para ver el efecto. Esto también te permite desenchufar el cable USB y seguir teniendo el programa en ejecución.

.. image:: img/11_upload.png

**6. Encender el monitor serial**

Ahora abre el **Serial Monitor** para ver la temperatura y la humedad.

.. image:: img/11_serial.png

